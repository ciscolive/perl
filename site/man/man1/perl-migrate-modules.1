.\" Automatically generated by Pod::Man 4.14 (Pod::Simple 3.41)
.\"
.\" Standard preamble:
.\" ========================================================================
.de Sp \" Vertical space (when we can't use .PP)
.if t .sp .5v
.if n .sp
..
.de Vb \" Begin verbatim text
.ft CW
.nf
.ne \\$1
..
.de Ve \" End verbatim text
.ft R
.fi
..
.\" Set up some character translations and predefined strings.  \*(-- will
.\" give an unbreakable dash, \*(PI will give pi, \*(L" will give a left
.\" double quote, and \*(R" will give a right double quote.  \*(C+ will
.\" give a nicer C++.  Capital omega is used to do unbreakable dashes and
.\" therefore won't be available.  \*(C` and \*(C' expand to `' in nroff,
.\" nothing in troff, for use with C<>.
.tr \(*W-
.ds C+ C\v'-.1v'\h'-1p'\s-2+\h'-1p'+\s0\v'.1v'\h'-1p'
.ie n \{\
.    ds -- \(*W-
.    ds PI pi
.    if (\n(.H=4u)&(1m=24u) .ds -- \(*W\h'-12u'\(*W\h'-12u'-\" diablo 10 pitch
.    if (\n(.H=4u)&(1m=20u) .ds -- \(*W\h'-12u'\(*W\h'-8u'-\"  diablo 12 pitch
.    ds L" ""
.    ds R" ""
.    ds C` ""
.    ds C' ""
'br\}
.el\{\
.    ds -- \|\(em\|
.    ds PI \(*p
.    ds L" ``
.    ds R" ''
.    ds C`
.    ds C'
'br\}
.\"
.\" Escape single quotes in literal strings from groff's Unicode transform.
.ie \n(.g .ds Aq \(aq
.el       .ds Aq '
.\"
.\" If the F register is >0, we'll generate index entries on stderr for
.\" titles (.TH), headers (.SH), subsections (.SS), items (.Ip), and index
.\" entries marked with X<> in POD.  Of course, you'll have to process the
.\" output yourself in some meaningful fashion.
.\"
.\" Avoid warning from groff about undefined register 'F'.
.de IX
..
.nr rF 0
.if \n(.g .if rF .nr rF 1
.if (\n(rF:(\n(.g==0)) \{\
.    if \nF \{\
.        de IX
.        tm Index:\\$1\t\\n%\t"\\$2"
..
.        if !\nF==2 \{\
.            nr % 0
.            nr F 2
.        \}
.    \}
.\}
.rr rF
.\" ========================================================================
.\"
.IX Title "PERL-MIGRATE-MODULES 1"
.TH PERL-MIGRATE-MODULES 1 "2019-10-07" "perl v5.32.0" "User Contributed Perl Documentation"
.\" For nroff, turn off justification.  Always turn off hyphenation; it makes
.\" way too many mistakes in technical documents.
.if n .ad l
.nh
.SH "NAME"
perl\-migrate\-modules \- Migrate installed CPAN modules from one Perl to another
.SH "SYNOPSIS"
.IX Header "SYNOPSIS"
.Vb 1
\&  perl\-migrate\-modules [OPTIONS] [<src\-perl>] <dest\-perl>
\&
\&    perl\-migrate\-modules /path/to/perl\-5.28.0 /path/to/perl\-5.28.1
\&    perl\-migrate\-modules \-nq \-Ilib /usr/bin/perl ~/bin/perl
\&    perl\-migrate\-modules \-\-from ~/perl5/lib/perl5 ~/perls/5.20.0
\&
\&  Options:
\&    \-c, \-\-include\-core           Install core modules from source Perl
\&    \-h, \-\-help                   Show this message
\&    \-f <path>, \-\-from=<path>     Search only these path(s) for source modules
\&    \-I <path>, \-\-lib=<path>      Additional search path(s) for source modules
\&    \-n, \-\-notest                 Skip testing and test dependencies
\&    \-q, \-\-quiet                  Show only installation successes and failures
\&    \-v, \-\-version                Show the version of this script
.Ve
.SH "DESCRIPTION"
.IX Header "DESCRIPTION"
Reinstalls all modules found in the source Perl into the destination Perl,
similar to the \f(CW\*(C`clone\-modules\*(C'\fR command for perlbrew or the
\&\f(CW\*(C`migrate\-modules\*(C'\fR command for plenv <https://github.com/tokuhirom/plenv>. The
Perls may be passed as paths to the base installation directory or paths to the
\&\fIperl\fR executable itself. If only one path is passed, it will be used as both
the source and destination, but the search and install paths can be influenced.
.PP
Modules are found in the source Perl's standard \f(CW@INC\fR search paths by
default. To specify additional search paths, such as local::lib directories,
use the \f(CW\*(C`\-I\*(C'\fR/\f(CW\*(C`\-\-lib\*(C'\fR option. To specify search paths to use and omit the
standard search paths, use the \f(CW\*(C`\-f\*(C'\fR/\f(CW\*(C`\-\-from\*(C'\fR option.
.PP
Modules are installed to the destination Perl using cpanm. To influence the
install location, activate a local::lib in your environment, or use the
standard Perl and cpanm environment variables, such as
\&\*(L"\s-1PERL_MM_OPT\*(R"\s0 in ExtUtils::MakeMaker, \*(L"\s-1PERL_MB_OPT\*(R"\s0 in Module::Build, and
\&\*(L"\s-1PERL_CPANM_OPT\*(R"\s0 in cpanm.
.SH "EXAMPLES"
.IX Header "EXAMPLES"
.IP "\(bu" 4
Basic migration of modules to a newly installed Perl from an existing one:
.Sp
.Vb 1
\&  $ perl\-migrate\-modules /opt/perl\-5.20.3 /opt/perl\-5.22.0
.Ve
.IP "\(bu" 4
Migrate modules from an old (inactive) local::lib directory, using
\&\fI/usr/bin/perl\fR both to find source modules and to install:
.Sp
.Vb 1
\&  $ perl\-migrate\-modules \-\-from ~/perl5\-old/lib/perl5 /usr/bin/perl
.Ve
.IP "\(bu" 4
Migrate modules from the sitelib of a Perl that can no longer be executed,
using the active Perl executable both to find source modules and to install:
.Sp
.Vb 1
\&  $ perl\-migrate\-modules \-\-from ~/.plenv/versions/5.24.0/lib/perl5/site_perl/5.24.0/ $(which perl)
.Ve
.IP "\(bu" 4
Migrate modules to a custom local::lib location, using \fI/opt/perl\-5.28.0\fR to
find modules within its search paths and using \fI/opt/perl\-5.28.1\fR to install
to \fI/opt/project/local\fR:
.Sp
.Vb 1
\&  $ env PERL_CPANM_OPT=\*(Aq\-l /opt/project/local\*(Aq perl\-migrate\-modules /opt/perl\-5.28.0 /opt/perl\-5.28.1
.Ve
.IP "\(bu" 4
Update all modules installed in the active Perl:
.Sp
.Vb 1
\&  $ perl\-migrate\-modules \-\-include\-core $(which perl)
.Ve
.SH "CAVEATS"
.IX Header "CAVEATS"
Only modules with \fI.packlist\fR will be migrated, this will include any module
installed by \s-1CPAN\s0 clients, but generally not modules installed by vendor
packages or core modules. Core modules available from \s-1CPAN\s0 can be included via
Module::CoreList with the \f(CW\*(C`\-\-include\-core\*(C'\fR option.
.PP
Migrated modules will be installed at their latest indexed version, not the
existing version when found.
.PP
Any environment settings that affect Perl's library search and module install
locations, such as \f(CW\*(C`PERL5LIB\*(C'\fR or an active local::lib, will be ignored
while searching for modules with the source Perl but will have their normal
effect on installation into the destination Perl.
.SH "BUGS"
.IX Header "BUGS"
Report any issues on the public bugtracker.
.SH "AUTHOR"
.IX Header "AUTHOR"
Dan Book <dbook@cpan.org>
.SH "COPYRIGHT AND LICENSE"
.IX Header "COPYRIGHT AND LICENSE"
This software is Copyright (c) 2018 by Dan Book.
.PP
This is free software, licensed under:
.PP
.Vb 1
\&  The Artistic License 2.0 (GPL Compatible)
.Ve
.SH "SEE ALSO"
.IX Header "SEE ALSO"
\&\*(L"\s-1COMMAND:\s0 CLONE-MODULES\*(R" in perlbrew
