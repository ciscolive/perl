.\" Automatically generated by Pod::Man 4.14 (Pod::Simple 3.40)
.\"
.\" Standard preamble:
.\" ========================================================================
.de Sp \" Vertical space (when we can't use .PP)
.if t .sp .5v
.if n .sp
..
.de Vb \" Begin verbatim text
.ft CW
.nf
.ne \\$1
..
.de Ve \" End verbatim text
.ft R
.fi
..
.\" Set up some character translations and predefined strings.  \*(-- will
.\" give an unbreakable dash, \*(PI will give pi, \*(L" will give a left
.\" double quote, and \*(R" will give a right double quote.  \*(C+ will
.\" give a nicer C++.  Capital omega is used to do unbreakable dashes and
.\" therefore won't be available.  \*(C` and \*(C' expand to `' in nroff,
.\" nothing in troff, for use with C<>.
.tr \(*W-
.ds C+ C\v'-.1v'\h'-1p'\s-2+\h'-1p'+\s0\v'.1v'\h'-1p'
.ie n \{\
.    ds -- \(*W-
.    ds PI pi
.    if (\n(.H=4u)&(1m=24u) .ds -- \(*W\h'-12u'\(*W\h'-12u'-\" diablo 10 pitch
.    if (\n(.H=4u)&(1m=20u) .ds -- \(*W\h'-12u'\(*W\h'-8u'-\"  diablo 12 pitch
.    ds L" ""
.    ds R" ""
.    ds C` ""
.    ds C' ""
'br\}
.el\{\
.    ds -- \|\(em\|
.    ds PI \(*p
.    ds L" ``
.    ds R" ''
.    ds C`
.    ds C'
'br\}
.\"
.\" Escape single quotes in literal strings from groff's Unicode transform.
.ie \n(.g .ds Aq \(aq
.el       .ds Aq '
.\"
.\" If the F register is >0, we'll generate index entries on stderr for
.\" titles (.TH), headers (.SH), subsections (.SS), items (.Ip), and index
.\" entries marked with X<> in POD.  Of course, you'll have to process the
.\" output yourself in some meaningful fashion.
.\"
.\" Avoid warning from groff about undefined register 'F'.
.de IX
..
.nr rF 0
.if \n(.g .if rF .nr rF 1
.if (\n(rF:(\n(.g==0)) \{\
.    if \nF \{\
.        de IX
.        tm Index:\\$1\t\\n%\t"\\$2"
..
.        if !\nF==2 \{\
.            nr % 0
.            nr F 2
.        \}
.    \}
.\}
.rr rF
.\" ========================================================================
.\"
.IX Title "Mojo::TFTPd::Connection 3"
.TH Mojo::TFTPd::Connection 3 "2014-11-07" "perl v5.32.0" "User Contributed Perl Documentation"
.\" For nroff, turn off justification.  Always turn off hyphenation; it makes
.\" way too many mistakes in technical documents.
.if n .ad l
.nh
.SH "NAME"
Mojo::TFTPd::Connection \- A connection class for Mojo::TFTPd
.SH "SYNOPSIS"
.IX Header "SYNOPSIS"
See Mojo::TFTPd
.SH "ATTRIBUTES"
.IX Header "ATTRIBUTES"
.SS "type"
.IX Subsection "type"
Type of connection rrq or wrq
.SS "blocksize"
.IX Subsection "blocksize"
The negotiated blocksize.
Default is 512 Byte.
.SS "error"
.IX Subsection "error"
Useful to check inside \*(L"finish\*(R" in Mojo::TFTPd events to see if anything has
gone wrong. Holds a string describing the error.
.SS "file"
.IX Subsection "file"
The filename the client requested to read or write.
.SS "filehandle"
.IX Subsection "filehandle"
This must be set inside the rrq or wrq
event or the connection will be dropped.
Can be either Mojo::Asset or filehandle.
.SS "filesize"
.IX Subsection "filesize"
This must be set inside the rrq
to report \*(L"tsize\*(R" option if client requested.
.PP
If set inside wrq limits maximum upload size.
Set automatically on \s-1WRQ\s0 with \*(L"tsize\*(R" option.
.PP
Can be used inside finish for uploads
to check if reported \*(L"tsize\*(R" and received data length match.
.SS "timeout"
.IX Subsection "timeout"
Retransmit/Inactive timeout.
.SS "lastop"
.IX Subsection "lastop"
Last operation.
.SS "mode"
.IX Subsection "mode"
Either \*(L"netascii\*(R", \*(L"octet\*(R" or empty string if unknown.
.SS "peerhost"
.IX Subsection "peerhost"
The \s-1IP\s0 address of the remote client.
.SS "peername"
.IX Subsection "peername"
Packet address of the remote client.
.SS "retries"
.IX Subsection "retries"
Number of times \*(L"send_data\*(R", \*(L"send_ack\*(R" or \*(L"send_oack\*(R" can be retried before the
connection is dropped.
This value comes from \*(L"retries\*(R" in Mojo::TFTPd or set inside rrq or wrq
events.
.SS "retransmit"
.IX Subsection "retransmit"
Number of times last operation (\*(L"send_data\*(R", \*(L"send_ack\*(R" or \*(L"send_oack\*(R")
to be retransmitted on timeout before the connection is dropped.
This value comes from \*(L"retransmit\*(R" in Mojo::TFTPd or set inside rrq or wrq
events.
.PP
Retransmits are disabled if set to 0.
.SS "socket"
.IX Subsection "socket"
The \s-1UDP\s0 handle to send data to.
.SS "rfc"
.IX Subsection "rfc"
Contains \s-1RFC 2347\s0 options the client has provided. These options are stored
in an hash ref.
.SH "METHODS"
.IX Header "METHODS"
.SS "send_data"
.IX Subsection "send_data"
This method is called when the server sends \s-1DATA\s0 to the client.
.SS "receive_ack"
.IX Subsection "receive_ack"
This method is called when the client sends \s-1ACK\s0 to the server.
.SS "receive_data"
.IX Subsection "receive_data"
This method is called when the client sends \s-1DATA\s0 to the server.
.SS "send_ack"
.IX Subsection "send_ack"
This method is called when the server sends \s-1ACK\s0 to the client.
.SS "receive_error"
.IX Subsection "receive_error"
This method is called when the client sends \s-1ERROR\s0 to the server.
.SS "send_error"
.IX Subsection "send_error"
Used to report error to the client.
.SS "send_oack"
.IX Subsection "send_oack"
Used to send \s-1RFC 2347 OACK\s0 to client
.PP
Supported options are
.ie n .IP "\s-1RFC 2348\s0 blksize \- report $self\->blocksize" 4
.el .IP "\s-1RFC 2348\s0 blksize \- report \f(CW$self\fR\->blocksize" 4
.IX Item "RFC 2348 blksize - report $self->blocksize"
.PD 0
.ie n .IP "\s-1RFC 2349\s0 timeout \- report $self\->timeout" 4
.el .IP "\s-1RFC 2349\s0 timeout \- report \f(CW$self\fR\->timeout" 4
.IX Item "RFC 2349 timeout - report $self->timeout"
.ie n .IP "\s-1RFC 2349\s0 tsize \- report $self\->filesize if set inside the rrq" 4
.el .IP "\s-1RFC 2349\s0 tsize \- report \f(CW$self\fR\->filesize if set inside the rrq" 4
.IX Item "RFC 2349 tsize - report $self->filesize if set inside the rrq"
.PD
.SS "send_retransmit"
.IX Subsection "send_retransmit"
Used to retransmit last packet to the client.
.SH "AUTHOR"
.IX Header "AUTHOR"
Jan Henning Thorsen \- \f(CW\*(C`jhthorsen@cpan.org\*(C'\fR
