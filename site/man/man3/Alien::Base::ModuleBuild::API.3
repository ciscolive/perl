.\" Automatically generated by Pod::Man 4.14 (Pod::Simple 3.40)
.\"
.\" Standard preamble:
.\" ========================================================================
.de Sp \" Vertical space (when we can't use .PP)
.if t .sp .5v
.if n .sp
..
.de Vb \" Begin verbatim text
.ft CW
.nf
.ne \\$1
..
.de Ve \" End verbatim text
.ft R
.fi
..
.\" Set up some character translations and predefined strings.  \*(-- will
.\" give an unbreakable dash, \*(PI will give pi, \*(L" will give a left
.\" double quote, and \*(R" will give a right double quote.  \*(C+ will
.\" give a nicer C++.  Capital omega is used to do unbreakable dashes and
.\" therefore won't be available.  \*(C` and \*(C' expand to `' in nroff,
.\" nothing in troff, for use with C<>.
.tr \(*W-
.ds C+ C\v'-.1v'\h'-1p'\s-2+\h'-1p'+\s0\v'.1v'\h'-1p'
.ie n \{\
.    ds -- \(*W-
.    ds PI pi
.    if (\n(.H=4u)&(1m=24u) .ds -- \(*W\h'-12u'\(*W\h'-12u'-\" diablo 10 pitch
.    if (\n(.H=4u)&(1m=20u) .ds -- \(*W\h'-12u'\(*W\h'-8u'-\"  diablo 12 pitch
.    ds L" ""
.    ds R" ""
.    ds C` ""
.    ds C' ""
'br\}
.el\{\
.    ds -- \|\(em\|
.    ds PI \(*p
.    ds L" ``
.    ds R" ''
.    ds C`
.    ds C'
'br\}
.\"
.\" Escape single quotes in literal strings from groff's Unicode transform.
.ie \n(.g .ds Aq \(aq
.el       .ds Aq '
.\"
.\" If the F register is >0, we'll generate index entries on stderr for
.\" titles (.TH), headers (.SH), subsections (.SS), items (.Ip), and index
.\" entries marked with X<> in POD.  Of course, you'll have to process the
.\" output yourself in some meaningful fashion.
.\"
.\" Avoid warning from groff about undefined register 'F'.
.de IX
..
.nr rF 0
.if \n(.g .if rF .nr rF 1
.if (\n(rF:(\n(.g==0)) \{\
.    if \nF \{\
.        de IX
.        tm Index:\\$1\t\\n%\t"\\$2"
..
.        if !\nF==2 \{\
.            nr % 0
.            nr F 2
.        \}
.    \}
.\}
.rr rF
.\"
.\" Accent mark definitions (@(#)ms.acc 1.5 88/02/08 SMI; from UCB 4.2).
.\" Fear.  Run.  Save yourself.  No user-serviceable parts.
.    \" fudge factors for nroff and troff
.if n \{\
.    ds #H 0
.    ds #V .8m
.    ds #F .3m
.    ds #[ \f1
.    ds #] \fP
.\}
.if t \{\
.    ds #H ((1u-(\\\\n(.fu%2u))*.13m)
.    ds #V .6m
.    ds #F 0
.    ds #[ \&
.    ds #] \&
.\}
.    \" simple accents for nroff and troff
.if n \{\
.    ds ' \&
.    ds ` \&
.    ds ^ \&
.    ds , \&
.    ds ~ ~
.    ds /
.\}
.if t \{\
.    ds ' \\k:\h'-(\\n(.wu*8/10-\*(#H)'\'\h"|\\n:u"
.    ds ` \\k:\h'-(\\n(.wu*8/10-\*(#H)'\`\h'|\\n:u'
.    ds ^ \\k:\h'-(\\n(.wu*10/11-\*(#H)'^\h'|\\n:u'
.    ds , \\k:\h'-(\\n(.wu*8/10)',\h'|\\n:u'
.    ds ~ \\k:\h'-(\\n(.wu-\*(#H-.1m)'~\h'|\\n:u'
.    ds / \\k:\h'-(\\n(.wu*8/10-\*(#H)'\z\(sl\h'|\\n:u'
.\}
.    \" troff and (daisy-wheel) nroff accents
.ds : \\k:\h'-(\\n(.wu*8/10-\*(#H+.1m+\*(#F)'\v'-\*(#V'\z.\h'.2m+\*(#F'.\h'|\\n:u'\v'\*(#V'
.ds 8 \h'\*(#H'\(*b\h'-\*(#H'
.ds o \\k:\h'-(\\n(.wu+\w'\(de'u-\*(#H)/2u'\v'-.3n'\*(#[\z\(de\v'.3n'\h'|\\n:u'\*(#]
.ds d- \h'\*(#H'\(pd\h'-\w'~'u'\v'-.25m'\f2\(hy\fP\v'.25m'\h'-\*(#H'
.ds D- D\\k:\h'-\w'D'u'\v'-.11m'\z\(hy\v'.11m'\h'|\\n:u'
.ds th \*(#[\v'.3m'\s+1I\s-1\v'-.3m'\h'-(\w'I'u*2/3)'\s-1o\s+1\*(#]
.ds Th \*(#[\s+2I\s-2\h'-\w'I'u*3/5'\v'-.3m'o\v'.3m'\*(#]
.ds ae a\h'-(\w'a'u*4/10)'e
.ds Ae A\h'-(\w'A'u*4/10)'E
.    \" corrections for vroff
.if v .ds ~ \\k:\h'-(\\n(.wu*9/10-\*(#H)'\s-2\u~\d\s+2\h'|\\n:u'
.if v .ds ^ \\k:\h'-(\\n(.wu*10/11-\*(#H)'\v'-.4m'^\v'.4m'\h'|\\n:u'
.    \" for low resolution devices (crt and lpr)
.if \n(.H>23 .if \n(.V>19 \
\{\
.    ds : e
.    ds 8 ss
.    ds o a
.    ds d- d\h'-1'\(ga
.    ds D- D\h'-1'\(hy
.    ds th \o'bp'
.    ds Th \o'LP'
.    ds ae ae
.    ds Ae AE
.\}
.rm #[ #] #H #V #F C
.\" ========================================================================
.\"
.IX Title "Alien::Base::ModuleBuild::API 3"
.TH Alien::Base::ModuleBuild::API 3 "2020-10-08" "perl v5.32.0" "User Contributed Perl Documentation"
.\" For nroff, turn off justification.  Always turn off hyphenation; it makes
.\" way too many mistakes in technical documents.
.if n .ad l
.nh
.SH "NAME"
Alien::Base::ModuleBuild::API \- API Reference for Alien:: Authors
.SH "VERSION"
.IX Header "VERSION"
version 1.15
.SH "DESCRIPTION"
.IX Header "DESCRIPTION"
\&\fB\s-1NOTE\s0\fR: Please consider for new development of Aliens that you use
Alien::Build and alienfile instead.  Like Alien::Base::ModuleBUild they work
with Alien::Base.  Unlike Alien::Base::Module::Build they are more easily customized
and handle a number of corner cases better.  For a good place to start,
please see Alien::Build::Manual::AlienAuthor.  Although the 
Alien-Base / Alien-Build team will continue to maintain this module,
(we will continue to fix bugs where appropriate), we aren't adding any
new features to this module.
.PP
A list of extra properties and methods provided by 
Alien::Base::ModuleBuild beyond those contained in Module::Build::API.
Note that all property and method names are prefixed with \f(CW\*(C`alien_\*(C'\fR to prevent future 
collisions Module::Build builtins.
.SS "\s-1CONSTRUCTOR\s0"
.IX Subsection "CONSTRUCTOR"
Alien::Base::ModuleBuild adds several parameters to the new constructor in Module::Build. Unless otherwise specified all of the parameters listed in Module::Build::API are available and behave identically to the description contained therein.
.IP "alien_arch" 4
.IX Item "alien_arch"
[version 0.019]
.Sp
Install module into an architecture specific directory.  This is off by default, unless \f(CW$ENV\fR{\s-1ALIEN_ARCH\s0} is true.  Most Alien distributions will be installing binary code.  If you are an integrator where the \f(CW@INC\fR path is shared by multiple Perls in a non-homogeneous environment you can set \f(CW$ENV\fR{\s-1ALIEN_ARCH\s0} to 1 and Alien modules will be installed in architecture specific directories.
.IP "alien_autoconf_with_pic" 4
.IX Item "alien_autoconf_with_pic"
[version 0.005]
.Sp
Add \f(CW\*(C`\-\-with\-pic\*(C'\fR option to autoconf style \f(CW\*(C`configure\*(C'\fR script when called.  This is the default, and normally a good practice.  Normally autoconf will ignore this and any other options that it does not recognize, but some non-autoconf \f(CW\*(C`configure\*(C'\fR scripts may complain.
.IP "alien_bin_requires" 4
.IX Item "alien_bin_requires"
[version 0.006]
.Sp
Hash reference of modules (keys) and versions (values) that specifies \f(CW\*(C`Alien\*(C'\fR modules that provide binary tools that are required to build.  Any Alien::Base module that includes binaries should work.  Also supported are Alien::MSYS, Alien::CMake, Alien::TinyCC and Alien::Autotools.
.Sp
[version 0.007]
.Sp
These only become required for building if Alien::Base::ModuleBuild determines that a source code build is required.
.IP "alien_build_commands" 4
.IX Item "alien_build_commands"
[version 0.001]
.Sp
An arrayref of commands used to build the library in the directory specified in \f(CW\*(C`alien_temp_dir\*(C'\fR. Each command is first passed through the command interpolation engine, so those variables may be used. The default is tailored to the \s-1GNU\s0 toolchain, i.e. AutoConf and Make; it is \f(CW\*(C`[ \*(Aq%c \-\-prefix=%s\*(Aq, \*(Aqmake\*(Aq ]\*(C'\fR.
.Sp
[version 0.009]
.Sp
Each command may be either a string or an array reference.  If the array reference form is used then the multiple argument form of \f(CW\*(C`system\*(C'\fR is used.  Prior to version 0.009, only the string form was supported.
.IP "alien_env" 4
.IX Item "alien_env"
[version 0.027]
.Sp
Environment overrides.  Allows you to set environment variables as a hash
reference that will override environment variables.  You can use the same
interpolated escape sequences and helpers that commands use.  Set to undef
to remove the variable.
.Sp
.Vb 12
\& ...
\& Alien::Base::ModuleBuild\->new(
\&   ...
\&   alien_env => {
\&     PERL => \*(Aq%X\*(Aq,     # sets the environment variable PERL to the location
\&                       # of the Perl interpreter.
\&     PERCENT => \*(Aq%%\*(Aq,  # evaluates to \*(Aq%\*(Aq
\&     REMOVE => undef,  # remove the environment variable if it is defined
\&   },
\&   ...
\& );
\& ...
.Ve
.Sp
Please keep in mind that frequently users have a good reason to have set 
environment variables, and you should not override them without a good 
reason.  An example of a good justification would be if a project has a 
Makefile that interacts badly with common environment variables.  This 
can sometimes be a problem since Makefile variables can be overridden with
environment variables.
.Sp
A useful pattern is to use a helper to only override an environment 
variable if it is not already set.
.Sp
.Vb 12
\& ...
\& Alien::Base::ModuleBuild\->new(
\&   ...
\&   alien_helper => {
\&     foo => \*(Aq$ENV{FOO}||"my preferred value if not already set"\*(Aq
\&   },
\&   alien_env => {
\&     FOO => \*(Aq%{foo}\*(Aq,
\&   },
\&   ...
\& );
\& ...
.Ve
.Sp
A common pitfall with environment variables is that setting one to the 
empty string (\f(CW\*(Aq\*(Aq\fR) is not portable.  On Unix it works fine as you would
expect, but in Windows it actually unsets the environment variable, which
may not be what you intend.
.Sp
.Vb 10
\& ...
\& Alien::Base::ModuleBuild\->new(
\&   ...
\&   alien_env => {
\&     # is allowed, but may not do what you intend
\&     # on some platforms!
\&     FOO => \*(Aq\*(Aq,
\&   },
\& );
\& ...
.Ve
.IP "alien_extra_site_config" 4
.IX Item "alien_extra_site_config"
[version 0.030]
.Sp
Append extra values to the \f(CW\*(C`config.site\*(C'\fR file when using autoconf.
.Sp
When <autoconf> is detected, a \f(CW\*(C`config.site\*(C'\fR file is created with values appropriate for
building software that can link against the Perl that you are building with.  This is important
on some platforms, for example 64 bit systems where the compilers generate 32 bit code by
default.  You can also add values to the \f(CW\*(C`config.site\*(C'\fR file using this directive.
.Sp
For values that are already provided by \f(CW\*(C`Alien::Base::ModuleBuild\*(C'\fR, your value will be
appended after the existing value.  For values that aren't provided, it will simply use
your value by itself.
.Sp
For example if you needed to add a define to a \s-1CFLAGS,\s0 you might do something like this:
.Sp
.Vb 12
\& ...
\& Alien::Base::ModuleBuild\->new(
\&   ...
\&   alien_extra_site_config => {
\&     # CFLAGS is usually specified by A::B::MB
\&     CFLAGS => \*(Aq\-DFOO=1\*(Aq,
\&     # BAR usually is not.
\&     BAR => \*(Aqbaz\*(Aq,
\&   },
\&   ...
\& );
\& ...
.Ve
.Sp
And the actual value for \s-1CFLAGS\s0 in the \f(CW\*(C`config.site\*(C'\fR might have values like this:
.Sp
.Vb 2
\& CFLAGS=\-O3 \-g \-DFOO=1
\& BAR=baz
.Ve
.IP "alien_ffi_name" 4
.IX Item "alien_ffi_name"
[version 0.007]
.Sp
The name of the shared library for use with \s-1FFI.\s0  Provided for situations where the shared library name cannot be determined from the \f(CW\*(C`pkg\-config\*(C'\fR name specified with \f(CW\*(C`alien_name\*(C'\fR.
For example \f(CW\*(C`libxml2\*(C'\fR has a \f(CW\*(C`pkg\-config\*(C'\fR of \f(CW\*(C`libxml\-2.0\*(C'\fR, but a shared library name of \f(CW\*(C`xml2\*(C'\fR.
By default alien_name is used with any \f(CW\*(C`lib\*(C'\fR prefix removed.  For example \f(CW\*(C`libarchive\*(C'\fR to be translated into \f(CW\*(C`archive\*(C'\fR which is what you want for that package.
.IP "alien_helper" 4
.IX Item "alien_helper"
[version 0.020]
.Sp
Provide helpers to generate commands or arguments at build or install time.  This property is a hash 
reference.  The keys are the helper names and the values are strings containing Perl code that will 
be evaluated and interpolated into the command before execution.  Because helpers are only needed 
when building a package from the source code, any dependency may be specified as an 
\&\f(CW\*(C`alien_bin_requires\*(C'\fR.  For example:
.Sp
.Vb 10
\& ...
\& Alien::Base::ModuleBuild\->new(
\&   ...
\&   alien_bin_requires => {
\&     \*(AqAlien::foo\*(Aq => 0,
\&   },
\&   alien_helper => {
\&     \*(Aqfoocommand\*(Aq  => \*(AqAlien::foo\->some_command\*(Aq,
\&     \*(Aqfooargument\*(Aq => \*(AqAlien::foo\->some_argument\*(Aq,
\&   },
\&   alien_build_commands => [
\&     \*(Aq%{foocommand} %{fooargument}\*(Aq,
\&   ],
\&   ...
\& );
.Ve
.Sp
[version 0.022]
.Sp
One helper that you get for free is \f(CW\*(C`%{pkg_config}\*(C'\fR which will be the pkg-config implementation
chosen by Alien::Base::ModuleBuild.  This will either be the real pkg-config provided by the
operating system (preferred) or PkgConfig, the pure perl implementation found on \s-1CPAN.\s0
.IP "alien_inline_auto_include" 4
.IX Item "alien_inline_auto_include"
[version 0.006]
.Sp
Array reference containing the list of header files to be used automatically by \f(CW\*(C`Inline::C\*(C'\fR and \f(CW\*(C`Inline::CPP\*(C'\fR.
.IP "alien_install_commands" 4
.IX Item "alien_install_commands"
[version 0.001]
.Sp
An arrayref of commands used to install it to the share directory specified by interpolation var \f(CW%s\fR. Each command is first passed through the command interpolation engine, so those variables may be used. The default is tailored to the \s-1GNU\s0 toolchain, i.e. AutoConf and Make; it is \f(CW\*(C`[ \*(Aqmake install\*(Aq ]\*(C'\fR.
.Sp
[version 0.009]
.Sp
Each command may be either a string or an array reference.  If the array reference form is used then the multiple argument form of \f(CW\*(C`system\*(C'\fR is used.  Prior to version 0.009, only the string form was supported.
.IP "alien_install_type" 4
.IX Item "alien_install_type"
[version 1.08]
.Sp
Set the install type.  Legal values are \f(CW\*(C`system\*(C'\fR and \f(CW\*(C`share\*(C'\fR.  The environment variable \f(CW\*(C`ALIEN_INSTALL_TYPE\*(C'\fR and \f(CW\*(C`ALIEN_FORCE\*(C'\fR will be used in preference over this property.
.IP "alien_isolate_dynamic" 4
.IX Item "alien_isolate_dynamic"
[version 0.005]
.Sp
If set to true, then dynamic libraries will be moved from the \f(CW\*(C`lib\*(C'\fR directory to a separate \f(CW\*(C`dynamic\*(C'\fR directory.  This makes them available for \s-1FFI\s0 modules (see FFI::Platypus), while preferring static libraries when creating \s-1XS\s0 extensions.
.IP "alien_msys" 4
.IX Item "alien_msys"
[version 0.006]
.Sp
On windows wrap build and install commands in an \f(CW\*(C`MSYS\*(C'\fR environment using Alien::MSYS.  This option will automatically add Alien::MSYS as a build requirement when building on Windows.
.IP "alien_name" 4
.IX Item "alien_name"
[version 0.001]
.Sp
The name of the primary library which will be provided. This should be in the form to be passed to \f(CW\*(C`pkg\-config\*(C'\fR. This name is available in the command interpolation as \f(CW%n\fR.
.IP "alien_provides_cflags" 4
.IX Item "alien_provides_cflags"
.PD 0
.IP "alien_provides_libs" 4
.IX Item "alien_provides_libs"
.PD
[version 0.001]
.Sp
These parameters, if specified, augment the information found by \fIpkg-config\fR. If no package config data is found, these are used to generate the necessary information. In that case, if these are not specified, they are attempted to be created from found shared-object files and header files. They both are empty by default.
.IP "alien_repository" 4
.IX Item "alien_repository"
[version 0.001]
.Sp
A hashref or arrayref of hashrefs defining the repositories used to find and fetch library tarballs (or zipballs etc.). These attributes are used to create \f(CW\*(C`Alien::Base::ModuleBuild::Repository\*(C'\fR objects (or more likely, subclasses thereof). Which class is created is governed by the \f(CW\*(C`protocol\*(C'\fR attribute and the \f(CW\*(C`alien_repository_class\*(C'\fR property below. Available attributes are:
.RS 4
.IP "protocol" 4
.IX Item "protocol"
One of \f(CW\*(C`ftp\*(C'\fR, \f(CW\*(C`http\*(C'\fR \f(CW\*(C`https\*(C'\fR or \f(CW\*(C`local\*(C'\fR. The first three are obvious, \f(CW\*(C`local\*(C'\fR allows packaging a tarball with the Alien:: module.
.Sp
If your repository is going to need \f(CW\*(C`https\*(C'\fR, make sure that you specify that, because it will inform Alien::Base::ModuleBuild that you will need the prereqs for \s-1SSL\s0 (namely Net::SSLeay and IO::Socket::SSL).
.IP "protocol_class" 4
.IX Item "protocol_class"
Defines the protocol handler class. Defaults to 'Net::FTP' or 'HTTP::Tiny' as appropriate.
.IP "host" 4
.IX Item "host"
This is either the root server address for the \s-1FTP\s0 and \s-1HTTP\s0 classes (i.e. \f(CW\*(C`my.server.com\*(C'\fR)
.IP "location" 4
.IX Item "location"
This key is protocol specific. For \s-1FTP\s0 this contains the name of the folder to search. For \s-1HTTP\s0 this is the page to be searched for links; this is specified as a path relative to the \f(CW\*(C`host\*(C'\fR. For a local file, this specifies the folder containing the tarball relative to the \f(CW\*(C`base_dir\*(C'\fR.
.IP "pattern" 4
.IX Item "pattern"
This is a \f(CW\*(C`qr\*(C'\fR regex matching acceptable files found in the \f(CW\*(C`location\*(C'\fR. If the pattern contains a capture group, the captured string is interpreted as the version number. N.B. if no versions are found, the files are sorted by filename using version semantics, this mechanism is not likely to be as accurate as specifying a capture group.
.IP "exact_filename" 4
.IX Item "exact_filename"
This key may be specified in place of \f(CW\*(C`pattern\*(C'\fR when the filename of the tarball is known, in which case such a file is downloaded from the given \f(CW\*(C`host\*(C'\fR and \f(CW\*(C`location\*(C'\fR. Note that, in general, specifying a \f(CW\*(C`pattern\*(C'\fR gives more flexibility, but there may be cases when you find more convenient to use \f(CW\*(C`exact_filename\*(C'\fR.
.IP "exact_version" 4
.IX Item "exact_version"
This key may be specified with the \f(CW\*(C`exact_filename\*(C'\fR key when the version of the tarball is known.
.IP "platform" 4
.IX Item "platform"
This attribute is a string telling the repository validator which platform the repository serves. This may be the string \f(CW\*(C`src\*(C'\fR (the default) for platform-independent source files, or a string which matches the Module::Build method \f(CW\*(C`os_type\*(C'\fR (e.g. \*(L"Windows\*(R", \*(L"Unix\*(R", \*(L"MacOS\*(R", \*(L"\s-1VMS\*(R"\s0).
.IP "c_compiler_required" 4
.IX Item "c_compiler_required"
If true (the default), then a C compiler is required to build from source.
.RE
.RS 4
.RE
.IP "alien_repository_class" 4
.IX Item "alien_repository_class"
[version 0.001]
.Sp
As the repositories in \f(CW\*(C`alien_repository\*(C'\fR are converted to objects, this hash controls the type of object that is created. The keys are the relevant protocol. This allows for easy subclassing any or all protocol classes. The defaults are as follows.
.Sp
.Vb 4
\& http    => \*(AqAlien::Base::ModuleBuild::Repository::HTTP\*(Aq,
\& ftp     => \*(AqAlien::Base::ModuleBuild::Repository::FTP\*(Aq,
\& local   => \*(AqAlien::Base::ModuleBuild::Repository::Local\*(Aq,
\& default => \*(AqAlien::Base::ModuleBuild::Repository\*(Aq,
.Ve
.Sp
Unlike most Module::Build parameters, authors may specify only those keys which are to be overridden. If any of the above keys are not specified, the above defaults will be used.
.IP "alien_repository_default" 4
.IX Item "alien_repository_default"
[version 0.001]
.Sp
This property is a shortcut for specifying multiple repositories with similar attributes. If a repository attribute is not defined in its \f(CW\*(C`alien_repository\*(C'\fR hashref, but that attribute is defined here, then this value will be used. This hashref is empty by default.
.IP "alien_selection_method" 4
.IX Item "alien_selection_method"
[not yet implemented]
.Sp
This is intended to choose the mechanism for selecting one file from many. The default name is \f(CW\*(C`newest\*(C'\fR.
.IP "alien_share_dir" 4
.IX Item "alien_share_dir"
[version 0.001]
.Sp
The name of the folder which will both serve a stub share directory via Module::Build's \f(CW\*(C`share_dir\*(C'\fR/\f(CW\*(C`dist_dir\*(C'\fR parameter. This directory is added in a smart manner which attempts not to interfere with other author-defined \f(CW\*(C`share_dir\*(C'\fRs. The default name is \f(CW\*(C`_share\*(C'\fR. This folder will hold a \s-1README\s0 file which is then installed to the target installed share location. It is \s-1THAT\s0 location that the library will be installed to.
.IP "alien_stage_install" 4
.IX Item "alien_stage_install"
It might be tempting to use this option if you have a library or tool that hard codes paths from the install location inside the
executable or library code.  However, using this option relies on blib detection which is not very reliable, and can leave your
install in an broken state if the package install step fails.  If you really need this option, please consider instead migrating
to Alien::Build, which has a much more reliable way of staging installs correctly.
.Sp
[version 0.016]
.Sp
Alien packages are installed directly into the blib directory by the `./Build' command rather than to the final location during the `./Build install` step.
.Sp
[version 0.017]
.Sp
As of 0.017 this is the default.
.IP "alien_temp_dir" 4
.IX Item "alien_temp_dir"
[version 0.001]
.Sp
The name of the temporary folder which will house the library when it is downloaded and built. The default name is \f(CW\*(C`_alien\*(C'\fR.
.IP "alien_test_commands" 4
.IX Item "alien_test_commands"
[version 0.001]
.Sp
An arrayref of commands used to test the library.  Each command is first 
passed through the command interpolation engine,
so those variables may be used.  The default is to do no tests.  The most
common command used by the \s-1GNU\s0 toolchain is \f(CW\*(C`[ \*(Aqmake check\*(Aq ]\*(C'\fR, but beware
that is not supported by all packages.
.Sp
[version 0.009]
.Sp
Each command may be either a string or an array reference.  If the array 
reference form is used, then the multiple argument form of system is used.
.IP "alien_version_check" 4
.IX Item "alien_version_check"
[version 0.001]
.Sp
A command to run to check the version of the library installed on the system. The default is \f(CW\*(C`pkg\-config \-\-modversion %n\*(C'\fR.
.SS "\s-1PACKAGE AND ENVIRONMENT VARIABLES\s0"
.IX Subsection "PACKAGE AND ENVIRONMENT VARIABLES"
A few global variables are used to set gross behavior. For each pair of variables, if both are set, the environment variable takes precedence.
.ie n .IP "$ENV{\s-1ALIEN_ARCH\s0}" 4
.el .IP "\f(CW$ENV\fR{\s-1ALIEN_ARCH\s0}" 4
.IX Item "$ENV{ALIEN_ARCH}"
[version 0.017]
.Sp
Setting this changes the default for alien_arch above.  If the module specifies its own alien_arch in its \f(CW\*(C`Build.PL\*(C'\fR file then it will override this setting.  Typically installing into an architecture specific directory is what you
want to do, since most Alien::Base based distributions provide architecture specific binary code, so you should consider carefully before installing modules with this environment variable set to 0.  This may be useful for
integrators creating a single non-architecture specific \s-1RPM,\s0 .deb or similar package.  In this case the integrator should ensure that the Alien package be installed with a system install_type and use the system package.
.ie n .IP "$ENV{\s-1ALIEN_BLIB\s0}" 4
.el .IP "\f(CW$ENV\fR{\s-1ALIEN_BLIB\s0}" 4
.IX Item "$ENV{ALIEN_BLIB}"
Setting this to true indicates that you don't intend to actually install your Alien::Base subclass, but rather use it from the built \fIblib\fR directory. This behavior is mostly to support automated testing from CPANtesters and should be automagically determined. If by chance you happen to trip the behavior accidentally, setting this environment variable to false (0) before building should prevent problems.
.ie n .IP "$Alien::Base::ModuleBuild::Force" 4
.el .IP "\f(CW$Alien::Base::ModuleBuild::Force\fR" 4
.IX Item "$Alien::Base::ModuleBuild::Force"
.PD 0
.ie n .IP "$ENV{\s-1ALIEN_FORCE\s0}" 4
.el .IP "\f(CW$ENV\fR{\s-1ALIEN_FORCE\s0}" 4
.IX Item "$ENV{ALIEN_FORCE}"
.PD
Setting either to a true value will cause the builder to ignore a system-wide installation and build a local version of the library.  This is the equivalent to setting \f(CW$ENV\fR{\s-1ALIEN_INSTALL_TYPE\s0} to 'share'.  \f(CW$ENV\fR{\s-1ALIEN_INSTALL_TYPE\s0} takes precedence.
.ie n .IP "$ENV{\s-1ALIEN_INSTALL_TYPE\s0}" 4
.el .IP "\f(CW$ENV\fR{\s-1ALIEN_INSTALL_TYPE\s0}" 4
.IX Item "$ENV{ALIEN_INSTALL_TYPE}"
Setting to \f(CW\*(C`share\*(C'\fR will ignore a system-wide installation and build a local version of the library.  Setting to \f(CW\*(C`system\*(C'\fR will only use a system-wide installation and die if it cannot be found.
.ie n .IP "$Alien::Base::ModuleBuild::Verbose" 4
.el .IP "\f(CW$Alien::Base::ModuleBuild::Verbose\fR" 4
.IX Item "$Alien::Base::ModuleBuild::Verbose"
.PD 0
.ie n .IP "$ENV{\s-1ALIEN_VERBOSE\s0}" 4
.el .IP "\f(CW$ENV\fR{\s-1ALIEN_VERBOSE\s0}" 4
.IX Item "$ENV{ALIEN_VERBOSE}"
.PD
Setting the either to a true value will output a little more info from within the module itself. At this point Alien::Base is going to be fairly verbose without this enabled.
.SS "\s-1CONFIG DATA\s0"
.IX Subsection "CONFIG DATA"
The Alien::Base system needs to store some data to be used in other phases of the build and eventual use. This is done via the mechanism provided by Module::Build::ConfigData. During the build-phase this information is mutable and is available through the \f(CW\*(C`Module::Build::config_data\*(C'\fR method. As the build-phase ends the data is serialized and stored as \f(CW\*(C`Alien::MyModule::ConfigData\*(C'\fR (assuming you are authoring \f(CW\*(C`Alien::MyModule\*(C'\fR). Then during the use-phase, the \f(CW\*(C`Alien::MyModule::ConfigData::config\*(C'\fR method (via the \f(CW\*(C`Alien::MyModule::config\*(C'\fR wrapper) is used to query the information. This data is not strictly immutable, but it changing it involves file permissions and is best left alone.
.PP
Config keys of interest are:
.IP "name" 4
.IX Item "name"
Holder for \f(CW\*(C`alien_name\*(C'\fR as needed by pkg-config.
.IP "install_type" 4
.IX Item "install_type"
Remembers if the library was found system-wide (value: \f(CW\*(C`system\*(C'\fR) or was installed during build (value: \f(CW\*(C`share\*(C'\fR).
.IP "pkgconfig" 4
.IX Item "pkgconfig"
A hashref of Alien::Base::PkgConfig objects created from \fI.pc\fR files found in \f(CW\*(C`working_directory\*(C'\fR. One extra object (whose key is \f(CW\*(C`_manual\*(C'\fR is created from the \f(CW\*(C`alien_provides_*\*(C'\fR information.
.IP "version" 4
.IX Item "version"
The version number installed or available.
.IP "working_directory" 4
.IX Item "working_directory"
Holder for the full path to the extracted source of the library. This is used to munge the pkg-config data later on.
.SS "\s-1COMMAND INTERPOLATION\s0"
.IX Subsection "COMMAND INTERPOLATION"
Before Alien::Base::ModuleBuild executes system commands, it replaces a few special escape sequences with useful data. This is needed especially for referencing the full path to the \f(CW\*(C`alien_share_dir\*(C'\fR before this path is known. The available sequences are:
.IP "%{\fIhelper\fR}" 4
.IX Item "%{helper}"
[version 0.020]
.Sp
Call the given helper, either provided by the \f(CW\*(C`alien_helper\*(C'\fR or \f(CW\*(C`alien_bin_requires\*(C'\fR property.  See Alien::Base#alien_helper.
.ie n .IP "%c" 4
.el .IP "\f(CW%c\fR" 4
.IX Item "%c"
Platform independent incantation for running autoconf \f(CW\*(C`configure\*(C'\fR script.  On *nix systems this is \f(CW\*(C`./configure\*(C'\fR, on Windows this is \f(CW\*(C`sh configure\*(C'\fR.  On windows Alien::MSYS is injected as a dependency and all commands are executed in an \f(CW\*(C`MSYS\*(C'\fR environment.
.ie n .IP "%n" 4
.el .IP "\f(CW%n\fR" 4
.IX Item "%n"
Shortcut for the name stored in \f(CW\*(C`alien_name\*(C'\fR
.Sp
.Vb 1
\& pkg\-config \-\-modversion %n
.Ve
.ie n .IP "%p" 4
.el .IP "\f(CW%p\fR" 4
.IX Item "%p"
\&\fBdeprecated\fR
.Sp
Platform independent \*(L"local command prefix\*(R". On *nix systems this is \f(CW\*(C`./\*(C'\fR, on Windows it is an empty string.
.Sp
.Vb 1
\& %pconfigure
.Ve
.Sp
Please note that this only works to run scripts on Unix, and does not work on Windows.  It is thus, not fit for purpose and should not be used.  As an alternative:
.RS 4
.ie n .IP "autoconf ""configure""" 4
.el .IP "autoconf ``configure''" 4
.IX Item "autoconf configure"
If you are trying to invoke the autoconf configure script, use \f(CW%c\fR instead.  This will use the correct incantation on either Unix like systems and on Windows.
.IP "Some other script" 4
.IX Item "Some other script"
Invoke the interpreter directly.  For example, if you have a Python script use \f(CW\*(C`python foo.py\*(C'\fR, if you have a Perl script use \*(L"%X foo.pl\*(R", if you have an sh script use \*(L"sh foo.sh\*(R".  These are all portable.
For sh, be sure to set the \f(CW\*(C`alien_msys\*(C'\fR property so that it will work on Windows.
.RE
.RS 4
.RE
.ie n .IP "%s" 4
.el .IP "\f(CW%s\fR" 4
.IX Item "%s"
The full path to the installed location of the the share directory (builder method \f(CW\*(C`alien_library_destination\*(C'\fR).
This is where the library should install itself; for autoconf style installs this will look like
.Sp
.Vb 1
\& \-\-prefix=%s
.Ve
.Sp
This will be the local blib directory location if \f(CW\*(C`alien_stage_install\*(C'\fR is true (which is the default as of 0.17.
This will be the final install location if \f(CW\*(C`alien_stage_install\*(C'\fR is false (which was the default prior to 0.17).
Please see the documentation above on \f(CW\*(C`alien_stage_install\*(C'\fR which includes some caveats before you consider changing
this option.
.ie n .IP "%v" 4
.el .IP "\f(CW%v\fR" 4
.IX Item "%v"
Captured version of the original archive.
.ie n .IP "%x" 4
.el .IP "\f(CW%x\fR" 4
.IX Item "%x"
The current Perl interpreter (aka $^X)
.ie n .IP "%X" 4
.el .IP "\f(CW%X\fR" 4
.IX Item "%X"
[version 0.027]
.Sp
The current Perl interpreter using the Unix style path separator \f(CW\*(C`/\*(C'\fR
instead of the native Windows \f(CW\*(C`\e\*(C'\fR.
.IP "%%" 4
A literal \f(CW\*(C`%\*(C'\fR.
.SH "SEE ALSO"
.IX Header "SEE ALSO"
.IP "\(bu" 4
Module::Build::API
.SH "AUTHOR"
.IX Header "AUTHOR"
Original author: Joel A Berger <joel.a.berger@gmail.com>
.PP
Current maintainer: Graham Ollis <plicease@cpan.org>
.PP
Contributors:
.PP
David Mertens (run4flat)
.PP
Mark Nunberg (mordy, mnunberg)
.PP
Christian Walde (Mithaldu)
.PP
Brian Wightman (MidLifeXis)
.PP
Graham Ollis (plicease)
.PP
Zaki Mughal (zmughal)
.PP
mohawk2
.PP
Vikas N Kumar (vikasnkumar)
.PP
Flavio Poletti (polettix)
.PP
Salvador Fandin\*~o (salva)
.PP
Gianni Ceccarelli (dakkar)
.PP
Pavel Shaydo (zwon, trinitum)
.PP
Kang-min Liu (\s-1XXX,\s0 gugod)
.PP
Nicholas Shipp (nshp)
.PP
Petr Pisar (ppisar)
.PP
Alberto Simo\*~es (ambs)
.SH "COPYRIGHT AND LICENSE"
.IX Header "COPYRIGHT AND LICENSE"
This software is copyright (c) 2012\-2020 by Joel A Berger.
.PP
This is free software; you can redistribute it and/or modify it under
the same terms as the Perl 5 programming language system itself.
